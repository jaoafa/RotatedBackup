# rotated-backup

ローテートバックアッププログラム  
Minecraftサーバのワールドデータを定期バックアップする目的で作りました。

## Features

- ワールドディレクトリを `tar.gz` で圧縮し、バックアップを行います。
- 毎時動作します。
- 前回のバックアップから今回の処理までの間にログインをした人がいなければバックアップを行わずスキップします
- 最低1日1回はバックアップを実施します。
- バックアップ完了時、Discordで通知します。
- 直近24回分のバックアップを保持し、それ以前のバックアップは自動的に削除します。

## Configuration

カレントディレクトリの `config.json` で設定します。すべての項目が必須です。

- `mcpath`: 文字列型で、Minecraft サーバディレクトリのパス
- `worlds`: リスト型(中身文字列)で、バックアップするワールドディレクトリのリスト
- `log_dir_path`: 文字列型で、ログイン数を確認するために利用する Minecraft ログディレクトリのパス
- `out_path`: 文字列型で、バックアップファイルを出力する先のディレクトリ
- `discord_token`: 文字列型で、完了時に Discord へ通知するために利用する Bot のトークン
- `discord_channel`: 文字列型で、完了時に Discord へ通知する先のチャンネル ID
